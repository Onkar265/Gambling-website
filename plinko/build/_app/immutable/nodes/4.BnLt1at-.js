import{b as u,t as _}from"../chunks/disclose-version.w2WwNl4H.js";import{B as Y,L as i,F as Z,D as tt,M as s,N as e,O as t,P as y,Q,R as q,$ as et,T as z}from"../chunks/runtime.L3S9f_it.js";import{s as m}from"../chunks/render.6OpfRaAp.js";import{s as at,a as L,i as st,b as J,p as rt}from"../chunks/props.Dt6bYaYu.js";import{a as ot,e as S,i as W,R as B,C as lt,b as K,c as it,r as T,d as nt,f as dt,P as pt,g as V,p as vt,h as X,j as ct}from"../chunks/Plinko.D_tIysUI.js";import{d as bt,c as ut}from"../chunks/svelte-head.DFZzVed5.js";var _t=_('<th class="px-2 py-1 text-left"> </th>'),xt=_('<td class="w-20 px-2 py-1 tabular-nums"> </td>'),yt=_('<tr><td class="px-2 py-1"> </td><td class="px-2 py-1 tabular-nums"> </td><td class="px-2 py-1 tabular-nums"> </td></tr>'),mt=_('<h2 class="mb-3 text-xl font-semibold">Bins Distribution</h2> <div class="h-[400px] w-[800px]"><canvas></canvas></div> <table class="my-4 text-xs"><thead><tr></tr></thead><tbody><tr></tr></tbody></table> <table class="my-4 text-sm"><thead><tr><th class="px-2 py-1 text-left">Risk</th><th class="px-2 py-1 text-left">Expected value</th><th class="px-2 py-1 text-left">Actual value</th></tr></thead><tbody></tbody></table>',1);function ft(C,c){Y(c,!0);const x=at(),I=()=>L(it,"$binProbabilities",x),$=()=>L(T,"$rowCount",x);let G=Q(()=>Object.keys(I())),g=Q(()=>Object.values(I()).map(o=>o*100)),R=Q(()=>K[$()].map(o=>o*100));const E=(o,n,r)=>nt(dt[o][n],r),P=(o,{labels:n,binProbabilities:r,expectedProbabilities:d})=>{const b=new lt(o,{type:"bar",data:{labels:n,datasets:[{label:"Bin Probability",data:r},{label:"Expected Probability",data:d}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Bin Number"}},y:{title:{display:!0,text:"Probability (%)"}}},plugins:{tooltip:{callbacks:{label:p=>`${p.dataset.label}: ${p.parsed.y.toFixed(4)}%`}}}}});return{update:({labels:p,binProbabilities:A,expectedProbabilities:a})=>{b.data.labels=p,b.data.datasets[0].data=A,b.data.datasets[1].data=a,b.update()},destroy:()=>{b.destroy()}}};var k=mt(),O=i(Z(k),2),F=s(O);ot(F,(o,n)=>P==null?void 0:P(o,n),()=>({labels:e(G),binProbabilities:e(g),expectedProbabilities:e(R)})),t(O);var f=i(O,2),h=s(f),D=s(h);S(D,21,()=>e(G),W,(o,n)=>{var r=_t(),d=s(r,!0);t(r),y(()=>m(d,e(n))),u(o,r)}),t(D),t(h);var w=i(h),N=s(w);S(N,21,()=>e(g),W,(o,n)=>{var r=xt(),d=s(r);y(()=>m(d,`${e(n).toFixed(4)??""}%`)),t(r),u(o,r)}),t(N),t(w),t(f);var M=i(f,2),j=i(s(M));S(j,21,()=>[B.LOW,B.MEDIUM,B.HIGH],W,(o,n)=>{var r=yt(),d=s(r),b=s(d,!0);t(d);var p=i(d),A=s(p,!0);y(()=>m(A,E($(),e(n),K[$()]).toFixed(5))),t(p);var a=i(p),l=s(a,!0);y(()=>m(l,E($(),e(n),Object.values(I())).toFixed(5))),t(a),t(r),y(()=>m(b,e(n))),u(o,r)}),t(j),t(M),u(C,k),tt()}function ht(C,c,x){q(c,rt(setInterval(x,10)))}function $t(C,c){e(c)&&(clearInterval(e(c)),q(c,null))}var gt=_("<option> </option>"),Pt=_("<option> </option>"),kt=_('<button class="bg-cyan-100 p-2">Start Auto Drop</button>'),Dt=_('<button class="bg-cyan-100 p-2">Stop Auto Drop</button>'),wt=_('<div class="h-[570px] w-[760px]"><!></div> <div class="mx-4 my-8 flex items-center gap-16"><div class="flex items-center gap-4"><label for="rowCount">Rows</label> <select id="rowCount" class="border border-gray-400 p-2"></select></div> <div class="flex items-center gap-4"><label for="riskLevel">Risk</label> <select id="riskLevel" class="border border-gray-400 p-2"></select></div> <button class="bg-cyan-100 p-2">Drop Ball</button> <!> <p>Dropped: <span> </span></p></div> <div class="mx-4 my-8"><!></div>',1);function Ft(C,c){Y(c,!0);const x=at(),I=()=>L(vt,"$plinkoEngine",x),$=()=>L(T,"$rowCount",x),G=()=>L(X,"$riskLevel",x);let g=z(null),R=z(0);function E(){var a;(a=I())==null||a.dropBall(),q(R,e(R)+1)}var P=wt();ut(a=>{et.title="Plinko - Benchmark"});var k=Z(P),O=s(k);pt(O,{}),t(k);var F=i(k,2),f=s(F),h=i(s(f),2);S(h,21,()=>ct,W,(a,l)=>{var v=gt(),H={},U=s(v,!0);t(v),y(()=>{H!==(H=e(l))&&(v.value=(v.__value=e(l))==null?"":e(l)),m(U,e(l))}),u(a,v)}),t(h),t(f);var D=i(f,2),w=i(s(D),2);S(w,21,()=>[B.LOW,B.MEDIUM,B.HIGH],W,(a,l)=>{var v=Pt(),H={},U=s(v,!0);t(v),y(()=>{H!==(H=e(l))&&(v.value=(v.__value=e(l))==null?"":e(l)),m(U,e(l))}),u(a,v)}),t(w),t(D);var M=i(D,2);M.__click=E;var j=i(M,2);{var o=a=>{var l=kt();l.__click=[ht,g,E],u(a,l)},n=a=>{var l=Dt();l.__click=[$t,g],u(a,l)};st(j,a=>{e(g)===null?a(o):a(n,!1)})}var r=i(j,2),d=i(s(r)),b=s(d,!0);t(d),t(r),t(F);var p=i(F,2),A=s(p);ft(A,{}),t(p),y(()=>m(b,e(R))),V(h,$,a=>J(T,a)),V(w,G,a=>J(X,a)),u(C,P),tt()}bt(["click"]);export{Ft as component};
